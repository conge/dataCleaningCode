activity_labels <- read.table(file='../rawData/activity_labels.txt')
features_labels <- read.table(file='../rawData/features.txt')
ls()
ls(pattern="_t")
rm(ls(pattern="_t"))
rm(body_acc_x_test)
rm(list=ls(pattern="_t"))
setwd("~/Documents/Dropbox/Conge/Study/MOOC/DataScienceSpecialization/GettingAndCleaningData/project/dataCleaningCode")
## Train Data read in
subj_train <- read.table(file='../rawData/train/subject_train.txt')
X_train <- read.table(file='../rawData/train/X_train.txt')
y_train <- read.table(file='../rawData/train/y_train.txt')
body_acc_x_train <- read.table(file='../rawData/train/Inertial Signals/body_acc_x_train.txt')
body_acc_y_train <- read.table(file='../rawData/train/Inertial Signals/body_acc_y_train.txt')
body_acc_z_train <- read.table(file='../rawData/train/Inertial Signals/body_acc_z_train.txt')
body_gyro_x_train <- read.table(file='../rawData/train/Inertial Signals/body_gyro_x_train.txt')
body_gyro_y_train <- read.table(file='../rawData/train/Inertial Signals/body_gyro_y_train.txt')
body_gyro_z_train <- read.table(file='../rawData/train/Inertial Signals/body_gyro_z_train.txt')
total_acc_x_train <- read.table(file='../rawData/train/Inertial Signals/total_acc_x_train.txt')
total_acc_y_train <- read.table(file='../rawData/train/Inertial Signals/total_acc_y_train.txt')
total_acc_z_train <- read.table(file='../rawData/train/Inertial Signals/total_acc_z_train.txt')
## Test Data read in
subj_test <- read.table(file='../rawData/test/subject_test.txt')
X_test <- read.table(file='../rawData/test/X_test.txt')
y_test <- read.table(file='../rawData/test/y_test.txt')
body_acc_x_test <- read.table(file='../rawData/test/Inertial Signals/body_acc_x_test.txt')
body_acc_y_test <- read.table(file='../rawData/test/Inertial Signals/body_acc_y_test.txt')
body_acc_z_test <- read.table(file='../rawData/test/Inertial Signals/body_acc_z_test.txt')
body_gyro_x_test <- read.table(file='../rawData/test/Inertial Signals/body_gyro_x_test.txt')
body_gyro_y_test <- read.table(file='../rawData/test/Inertial Signals/body_gyro_y_test.txt')
body_gyro_z_test <- read.table(file='../rawData/test/Inertial Signals/body_gyro_z_test.txt')
total_acc_x_test <- read.table(file='../rawData/test/Inertial Signals/total_acc_x_test.txt')
total_acc_y_test <- read.table(file='../rawData/test/Inertial Signals/total_acc_y_test.txt')
total_acc_z_test <- read.table(file='../rawData/test/Inertial Signals/total_acc_z_test.txt')
## Read in labels.
activity_labels <- read.table(file='../rawData/activity_labels.txt')
features_labels <- read.table(file='../rawData/features.txt')
# Merge train and test data.
subj <- rbind(subj_train,subj_test)
X <- rbind(X_train,X_test)
y <- rbind(y_train,y_test)
body_acc_x <- rbind(body_acc_x_train,body_acc_x_test)
body_acc_y <- rbind(body_acc_y_train,body_acc_y_test)
body_acc_z <- rbind(body_acc_z_train,body_acc_z_test)
body_gyro_x <- rbind(body_gyro_x_train,body_gyro_x_test)
body_gyro_y <- rbind(body_gyro_y_train,body_gyro_y_test)
body_gyro_z <- rbind(body_gyro_z_train,body_gyro_z_test)
total_acc_x <- rbind(total_acc_x_train,total_acc_x_test)
total_acc_y <- rbind(total_acc_y_train,total_acc_y_test)
total_acc_z <- rbind(total_acc_z_train,total_acc_z_test)
rm(list=ls(pattern='_t'))
summary(y)
y <- as.factor(y)
as.factor(y)
str(y)
y<- as.factor(y$V1)
y
str(subj)
body_acc_x_mean = rowMeans(body_acc_x)
str(body_acc_x_mean)
body_acc_x_sd = apply(data.matrix(body_acc_x),1,sd)
measures <- data.frame(ls(pattern="mean"))
View(measures)
View(measures)
measures <- data.frame(body_acc_x_mean,body_acc_x_sd)
str(measures)
str*(body_acc_x_mean)
str(body_acc_x_mean)
rm(list=ls(pattern='_t'))
## Extract Mean and standard deviation for measurements.
body_acc_x_mean = rowMeans(body_acc_x)
body_acc_x_sd = apply(data.matrix(body_acc_x),1,sd)
body_acc_y_mean = rowMeans(body_acc_y)
body_acc_y_sd = apply(data.matrix(body_acc_y),1,sd)
body_acc_z_mean = rowMeans(body_acc_z)
body_acc_z_sd = apply(data.matrix(body_acc_z),1,sd)
body_gyro_x_mean = rowMeans(body_gyro_x)
body_gyro_x_sd = apply(data.matrix(body_gyro_x),1,sd)
body_gyro_y_mean = rowMeans(body_gyro_y)
body_gyro_y_sd = apply(data.matrix(body_gyro_y),1,sd)
body_gyro_z_mean = rowMeans(body_gyro_z)
body_gyro_z_sd = apply(data.matrix(body_gyro_z),1,sd)
total_acc_x_mean = rowMeans(total_acc_x)
total_acc_x_sd = apply(data.matrix(total_acc_x),1,sd)
total_acc_y_mean = rowMeans(total_acc_y)
total_acc_y_sd = apply(data.matrix(total_acc_y),1,sd)
total_acc_z_mean = rowMeans(total_acc_z)
total_acc_z_sd = apply(data.matrix(total_acc_z),1,sd)
ls(pattern="sd")
rm(measures)
measurement = data.frame()
measurement <- sapply(ls(pattern='_mean')), function(x) {
tmp = data.frame()
cbind(tmp,get(x))
}
measurement <- sapply(ls(pattern='_mean'), function(x) {
tmp = data.frame()
cbind(tmp,get(x))
})
})
measurement <- sapply(ls(pattern='_mean'), function(x) {
data.frame(x)
})
str(measurement)
measurement <- sapply(ls(pattern='_mean'), function(x) {
data.frame(get(x))
})
str(measurement)
measurement <- sapply(ls(pattern='_mean'), function(x) {
data.frame(get(x),colnames=x)
})
measurement <- sapply(ls(pattern='_mean'), function(x) {
data.frame(get(x))
})
measurement
head(measurement)
str(measurement)
measurement <- data.frame(body_acc_x_mean, body_acc_x_sd,
body_acc_y_mean, body_acc_y_sd,
body_acc_z_mean, body_acc_z_sd,
body_gyro_x_mean, body_gyro_x_sd,
body_gyro_y_mean, body_gyro_y_sd,
body_gyro_z_mean, body_gyro_z_sd,
total_acc_x_mean, total_acc_x_sd,
total_acc_y_mean, total_acc_y_sd,
total_acc_z_mean, total_acc_z_sd,
)
measurement <- data.frame(body_acc_x_mean, body_acc_x_sd,
body_acc_y_mean, body_acc_y_sd,
body_acc_z_mean, body_acc_z_sd,
body_gyro_x_mean, body_gyro_x_sd,
body_gyro_y_mean, body_gyro_y_sd,
body_gyro_z_mean, body_gyro_z_sd,
total_acc_x_mean, total_acc_x_sd,
total_acc_y_mean, total_acc_y_sd,
total_acc_z_mean, total_acc_z_sd
)
rm(ls(pattern="acc"))
rm(ls(pattern="gyro"))
rm(ls(pattern="acc"))
ls()
ls(pattern='acc')
rm(ls(pattern='acc'))
rm(ls(pattern='gyro'))
rm(list=ls(pattern='acc'))
rm(list=ls(pattern='gyro'))
rm(tmp)
head(measurement)
ls()
summary(y)
y == "1"
y(y == "1")
y[y == "1"]
y[y == activity_labels$V1]=activity_labels$V2
activity_labels$V1
activity_labels$V2
activity_labels$V2[1]
activity_labels$V2[[1]]
for i in seq(1,length(activity_labels$V1)) {
y[y == activity_labels$V1[i]] = activity_labels$V2[i]
}
seq(1,length(activity_labels$V1))
for (i in seq(1,length(activity_labels$V1))) {
y[y == activity_labels$V1[i]] = activity_labels$V2[i]
}
y
y_test <- read.table(file='../rawData/test/y_test.txt')
y_train <- read.table(file='../rawData/train/y_train.txt')
y <- rbind(y_train,y_test)
for (i in seq(1,length(activity_labels$V1))) {
y[y == activity_labels$V1[i]] = activity_labels$V2[i]
}
summary(y)
y <- rbind(y_train,y_test)
y<- y$V1
for (i in seq(1,length(activity_labels$V1))) {
y[y == activity_labels$V1[i]] = activity_labels$V2[i]
}
summary(y)
activity_labels$V2
y[1]
activity_labels$V2(y[1])
activity_labels$V2[y[1]]
y[1]=activity_labels$V2[y[1]]
y[1]
for (i in seq(1,length(y))) {
y[i] = activity_labels$V2[y[i]]
}
summary(y)
y<- as.factor(y$V1)
y <- rbind(y_train,y_test)
y<- as.factor(y$V1)
for (i in seq(1,length(y))) {
y[i] = activity_labels$V2[y[i]]
}
warnings()
for (i in seq(1,length(y))) {
activity[i] = activity_labels$V2[y[i]]
}
activity <- rep(0,length(y))
for (i in seq(1,length(y))) {
activity[i] = activity_labels$V2[y[i]]
}
summary(activity)
warnings()
y[i]
y
y <- rbind(y_train,y_test)
y<- y$V1
activity <- rep(0,length(y))
for (i in seq(1,length(y))) {
activity[i] = activity_labels$V2[y[i]]
}
summary(activity)
activity <- rep('NA',length(y))
for (i in seq(1,length(y))) {
activity[i] = activity_labels$V2[y[i]]
}
y[1]
activity_labels$V2[y[i]]
a <-activity_labels$V2[y[i]]
a
[a,activity_labels$V2[y[1]]]
[a,activity_labels$V2[y[1]]
[a,activity_labels$V2[y[1]]]
c(a,activity_labels$V2[y[1]])
level(y)
levels(y)
y <- rbind(y_train,y_test)
y<- as.factor(y$V1)
levels(y)
levels(y) <- list(A=1, B=2, C=3)
levels(y)
y
y <- rbind(y_train,y_test)
subj <- as.factor(subj$V1)
levels(y) <- list(activity_labels$V2[1]=activity_labels$V1[1],
activity_labels$V2[2]=activity_labels$V1[2],
activity_labels$V2[3]=activity_labels$V1[3],
activity_labels$V2[4]=activity_labels$V1[4],
activity_labels$V2[5]=activity_labels$V1[5],
activity_labels$V2[6]=activity_labels$V1[6]
)
levels(y) <- list(activity_labels$V2[1]=activity_labels$V1[1],
as.list(activity_labels)
levels(y)
y <- rbind(y_train,y_test)
y<- as.factor(y$V1)
levels(y)
list(a="b")
levels(y) <-(activity_labels$V2[1]=1)
activity_labels$V2[1]
activity_labels$V2[2]
activity_labels$V2[1]
activity_labels
activity_labels <- read.table(file='../rawData/activity_labels.txt')
activity_labels
SITTING=4,STANDING=5,LAYING=6)
levels(y) <-(list(WALKING=1,WALKING_UPSTAIRS=2,WALKING_DOWNSTAIRs=3,
SITTING=4,STANDING=5,LAYING=6))
summary(y)
setwd("~/Documents/Dropbox/Conge/Study/MOOC/DataScienceSpecialization/GettingAndCleaningData/project/dataCleaningCode")
subj_train <- read.table(file='../rawData/train/subject_train.txt')
X_train <- read.table(file='../rawData/train/X_train.txt')
y_train <- read.table(file='../rawData/train/y_train.txt')
body_acc_x_train <- read.table(file='../rawData/train/Inertial Signals/body_acc_x_train.txt')
body_acc_y_train <- read.table(file='../rawData/train/Inertial Signals/body_acc_y_train.txt')
body_acc_z_train <- read.table(file='../rawData/train/Inertial Signals/body_acc_z_train.txt')
body_gyro_x_train <- read.table(file='../rawData/train/Inertial Signals/body_gyro_x_train.txt')
body_gyro_y_train <- read.table(file='../rawData/train/Inertial Signals/body_gyro_y_train.txt')
body_gyro_z_train <- read.table(file='../rawData/train/Inertial Signals/body_gyro_z_train.txt')
total_acc_x_train <- read.table(file='../rawData/train/Inertial Signals/total_acc_x_train.txt')
total_acc_y_train <- read.table(file='../rawData/train/Inertial Signals/total_acc_y_train.txt')
total_acc_z_train <- read.table(file='../rawData/train/Inertial Signals/total_acc_z_train.txt')
subj_test <- read.table(file='../rawData/test/subject_test.txt')
X_test <- read.table(file='../rawData/test/X_test.txt')
y_test <- read.table(file='../rawData/test/y_test.txt')
body_acc_x_test <- read.table(file='../rawData/test/Inertial Signals/body_acc_x_test.txt')
body_acc_y_test <- read.table(file='../rawData/test/Inertial Signals/body_acc_y_test.txt')
body_acc_z_test <- read.table(file='../rawData/test/Inertial Signals/body_acc_z_test.txt')
body_gyro_x_test <- read.table(file='../rawData/test/Inertial Signals/body_gyro_x_test.txt')
body_gyro_y_test <- read.table(file='../rawData/test/Inertial Signals/body_gyro_y_test.txt')
body_gyro_z_test <- read.table(file='../rawData/test/Inertial Signals/body_gyro_z_test.txt')
total_acc_x_test <- read.table(file='../rawData/test/Inertial Signals/total_acc_x_test.txt')
total_acc_y_test <- read.table(file='../rawData/test/Inertial Signals/total_acc_y_test.txt')
total_acc_z_test <- read.table(file='../rawData/test/Inertial Signals/total_acc_z_test.txt')
activity_labels <- read.table(file='../rawData/activity_labels.txt')
features_labels <- read.table(file='../rawData/features.txt')
# Merge train and test data.
subj <- rbind(subj_train,subj_test)
X <- rbind(X_train,X_test)
activity <- rbind(y_train,y_test)
body_acc_x <- rbind(body_acc_x_train,body_acc_x_test)
body_acc_y <- rbind(body_acc_y_train,body_acc_y_test)
body_acc_z <- rbind(body_acc_z_train,body_acc_z_test)
body_gyro_x <- rbind(body_gyro_x_train,body_gyro_x_test)
body_gyro_y <- rbind(body_gyro_y_train,body_gyro_y_test)
body_gyro_z <- rbind(body_gyro_z_train,body_gyro_z_test)
total_acc_x <- rbind(total_acc_x_train,total_acc_x_test)
total_acc_y <- rbind(total_acc_y_train,total_acc_y_test)
total_acc_z <- rbind(total_acc_z_train,total_acc_z_test)
## recollect memory
rm(list=ls(pattern='_t'))
## Extract Mean and standard deviation for measurements.
body_acc_x_mean = rowMeans(body_acc_x)
body_acc_x_sd = apply(data.matrix(body_acc_x),1,sd)
body_acc_y_mean = rowMeans(body_acc_y)
body_acc_y_sd = apply(data.matrix(body_acc_y),1,sd)
body_acc_z_mean = rowMeans(body_acc_z)
body_acc_z_sd = apply(data.matrix(body_acc_z),1,sd)
body_gyro_x_mean = rowMeans(body_gyro_x)
body_gyro_x_sd = apply(data.matrix(body_gyro_x),1,sd)
body_gyro_y_mean = rowMeans(body_gyro_y)
body_gyro_y_sd = apply(data.matrix(body_gyro_y),1,sd)
body_gyro_z_mean = rowMeans(body_gyro_z)
body_gyro_z_sd = apply(data.matrix(body_gyro_z),1,sd)
total_acc_x_mean = rowMeans(total_acc_x)
total_acc_x_sd = apply(data.matrix(total_acc_x),1,sd)
total_acc_y_mean = rowMeans(total_acc_y)
total_acc_y_sd = apply(data.matrix(total_acc_y),1,sd)
total_acc_z_mean = rowMeans(total_acc_z)
total_acc_z_sd = apply(data.matrix(total_acc_z),1,sd)
measurement <- data.frame(body_acc_x_mean, body_acc_x_sd,
df <- data.frame(body_acc_x_mean, body_acc_x_sd,
body_acc_y_mean, body_acc_y_sd,
body_acc_z_mean, body_acc_z_sd,
body_gyro_x_mean, body_gyro_x_sd,
body_gyro_y_mean, body_gyro_y_sd,
body_gyro_z_mean, body_gyro_z_sd,
total_acc_x_mean, total_acc_x_sd,
total_acc_y_mean, total_acc_y_sd,
total_acc_z_mean, total_acc_z_sd
)
rm(list=ls(pattern='acc'))
rm(list=ls(pattern='gyro'))
## activity names
subj = as.factor(subj$V1)
activity = as.factor(activity$V1)
levels(activity) <-(list(WALKING=1,WALKING_UPSTAIRS=2,WALKING_DOWNSTAIRs=3,
SITTING=4,STANDING=5,LAYING=6))
features_labels$V2
colnames(X)
colnames(X) <- features_labels$V2
colnames(X)
head(X)
d <- cbind(df,X)
colnames(d)
df <- cbind(df,X)
df <- data.frame(body_acc_x_mean, body_acc_x_sd,
body_acc_y_mean, body_acc_y_sd,
body_acc_z_mean, body_acc_z_sd,
body_gyro_x_mean, body_gyro_x_sd,
body_gyro_y_mean, body_gyro_y_sd,
body_gyro_z_mean, body_gyro_z_sd,
total_acc_x_mean, total_acc_x_sd,
total_acc_y_mean, total_acc_y_sd,
total_acc_z_mean, total_acc_z_sd
)
data <- df
data$subj <- subj
cata$activity <- activity
data$activity <- activity
tapply(df,list(subj,activity),mean)
length(df)
length(subj)
xt <-(. ~ subj+activity, data = data)
xt <-xtab(. ~ subj+activity, data = data)
library(plyr)
xt <-xtab(. ~ subj+activity, data = data)
xt <-xtabs(. ~ subj+activity, data = data)
str(data)
class(data)
~ subj+activity, data = data)
xt <-xtabs(tBodyAccJerk-mean()-X  ~ subj+activity, data = data)
str(X)
X_train <- read.table(file='../rawData/train/X_train.txt')
X_test <- read.table(file='../rawData/test/X_test.txt')
X <- rbind(X_train,X_test)
aggregate(. ~ subj + activity, data = data, FUN= "mean" )
tidy <- aggregate(. ~ subj + activity, data = data, FUN= "mean" )
colnames(tidy)
warning()
warnings()
tidy <- aggregate(. ~ subj + activity, data = data, FUN= "mean" )
colnames(data)
colnames(tidy)
nameData <- colnames(data)
nameTidy <- colnames(tidy)
for (i in length(nameData)) {if !(nameData[i] %in% nameTidy)}
for (i in length(nameData)) {if !(nameData[i] %in% nameTidy) {nameData[i]}}
for (i in length(nameData)) {if (!(nameData[i] %in% nameTidy)) {nameData[i]}}
for (i in length(nameData)) {nameData[nameData[i] %in% nameTidy]}
for (i in seq(1:length(nameData))) {nameData[nameData[i] %in% nameTidy]}
i
nameData[nameData[i] %in% nameTidy]
nameData[nameData[1] %in% nameTidy]
nameData[1] %in% nameTidy
for (i in seq(1:length(nameData))) {if (!(nameData[i] %in% nameTidy])) {nameData[i]}}
for (i in seq(1:length(nameData))) {if (!(nameData[i] %in% nameTidy)) {nameData[i]}}
for (i in seq(1:length(nameData))) {if (!(nameData[i] %in% nameTidy)) {print nameData[i]}}
for (i in seq(1:length(nameData))) {if (!(nameData[i] %in% nameTidy)) {printf nameData[i]}}
for (i in seq(1:length(nameData))) {if (!(nameData[i] %in% nameTidy)) {printf(nameData[i])}}
for (i in seq(1:length(nameData))) {if (!(nameData[i] %in% nameTidy)) {sprintf(nameData[i])}}
sprintf(nameData[i])
for (i in seq(1:length(nameData))) {if ((nameData[i] %in% nameTidy)) {sprintf(nameData[i])}}
summarise(nameTidy)
str(nameTidy)
summuary(data)
summary(data)
tidy <- aggregate(. ~ subj + activity, data = data, FUN= "mean",na.action = na.omit )
colSums(is.na(data))
a <- colSums(is.na(data))
library(plyr)
x <- ddply(data = data, var = c("subj", "activity"), .fun = mean)
x <- ddply(.data = data, .var = c("subj", "activity"), .fun = mean)
x <- ddply(.data = data, .var = c("subj", "activity"), .fun = colMeans)
rm(x)
x <- ddply(.data = data, .var = c("subj", "activity"), .fun = colMeans)
x <- ddply(.data = data, .var = c("subj", "activity"), .fun = mean)
head(x)
tidy <- aggregate(. ~ subj + activity, data = data, FUN= mean,na.rm=TRUE )
write.csv(tidy,file='../tidyData/smartphone.csv')
N <-data.frame(nameTidy,nameData)
write.csv(nameData, file='../tidyData/nameData.csv')
write.csv(nameTidy, file='../tidyData/nameTidy.csv')
setwd("~/Documents/Dropbox/Conge/Study/MOOC/DataScienceSpecialization/GettingAndCleaningData/project/dataCleaningCode")
## Train Data read in
subj_train <- read.table(file='../rawData/train/subject_train.txt')
X_train <- read.table(file='../rawData/train/X_train.txt')
y_train <- read.table(file='../rawData/train/y_train.txt')
body_acc_x_train <- read.table(file='../rawData/train/Inertial Signals/body_acc_x_train.txt')
body_acc_y_train <- read.table(file='../rawData/train/Inertial Signals/body_acc_y_train.txt')
body_acc_z_train <- read.table(file='../rawData/train/Inertial Signals/body_acc_z_train.txt')
body_gyro_x_train <- read.table(file='../rawData/train/Inertial Signals/body_gyro_x_train.txt')
body_gyro_y_train <- read.table(file='../rawData/train/Inertial Signals/body_gyro_y_train.txt')
body_gyro_z_train <- read.table(file='../rawData/train/Inertial Signals/body_gyro_z_train.txt')
total_acc_x_train <- read.table(file='../rawData/train/Inertial Signals/total_acc_x_train.txt')
total_acc_y_train <- read.table(file='../rawData/train/Inertial Signals/total_acc_y_train.txt')
total_acc_z_train <- read.table(file='../rawData/train/Inertial Signals/total_acc_z_train.txt')
## Test Data read in
subj_test <- read.table(file='../rawData/test/subject_test.txt')
X_test <- read.table(file='../rawData/test/X_test.txt')
y_test <- read.table(file='../rawData/test/y_test.txt')
body_acc_x_test <- read.table(file='../rawData/test/Inertial Signals/body_acc_x_test.txt')
body_acc_y_test <- read.table(file='../rawData/test/Inertial Signals/body_acc_y_test.txt')
body_acc_z_test <- read.table(file='../rawData/test/Inertial Signals/body_acc_z_test.txt')
body_gyro_x_test <- read.table(file='../rawData/test/Inertial Signals/body_gyro_x_test.txt')
body_gyro_y_test <- read.table(file='../rawData/test/Inertial Signals/body_gyro_y_test.txt')
body_gyro_z_test <- read.table(file='../rawData/test/Inertial Signals/body_gyro_z_test.txt')
total_acc_x_test <- read.table(file='../rawData/test/Inertial Signals/total_acc_x_test.txt')
total_acc_y_test <- read.table(file='../rawData/test/Inertial Signals/total_acc_y_test.txt')
total_acc_z_test <- read.table(file='../rawData/test/Inertial Signals/total_acc_z_test.txt')
## Read in labels.
activity_labels <- read.table(file='../rawData/activity_labels.txt')
features_labels <- read.table(file='../rawData/features.txt')
# Merge train and test data.
subj <- rbind(subj_train,subj_test)
X <- rbind(X_train,X_test)
activity <- rbind(y_train,y_test)
body_acc_x <- rbind(body_acc_x_train,body_acc_x_test)
body_acc_y <- rbind(body_acc_y_train,body_acc_y_test)
body_acc_z <- rbind(body_acc_z_train,body_acc_z_test)
body_gyro_x <- rbind(body_gyro_x_train,body_gyro_x_test)
body_gyro_y <- rbind(body_gyro_y_train,body_gyro_y_test)
body_gyro_z <- rbind(body_gyro_z_train,body_gyro_z_test)
total_acc_x <- rbind(total_acc_x_train,total_acc_x_test)
total_acc_y <- rbind(total_acc_y_train,total_acc_y_test)
total_acc_z <- rbind(total_acc_z_train,total_acc_z_test)
## recollect memory
rm(list=ls(pattern='_t'))
## Extract Mean and standard deviation for measurements.
body_acc_x_mean = rowMeans(body_acc_x)
body_acc_x_sd = apply(data.matrix(body_acc_x),1,sd)
body_acc_y_mean = rowMeans(body_acc_y)
body_acc_y_sd = apply(data.matrix(body_acc_y),1,sd)
body_acc_z_mean = rowMeans(body_acc_z)
body_acc_z_sd = apply(data.matrix(body_acc_z),1,sd)
body_gyro_x_mean = rowMeans(body_gyro_x)
body_gyro_x_sd = apply(data.matrix(body_gyro_x),1,sd)
body_gyro_y_mean = rowMeans(body_gyro_y)
body_gyro_y_sd = apply(data.matrix(body_gyro_y),1,sd)
body_gyro_z_mean = rowMeans(body_gyro_z)
body_gyro_z_sd = apply(data.matrix(body_gyro_z),1,sd)
total_acc_x_mean = rowMeans(total_acc_x)
total_acc_x_sd = apply(data.matrix(total_acc_x),1,sd)
total_acc_y_mean = rowMeans(total_acc_y)
total_acc_y_sd = apply(data.matrix(total_acc_y),1,sd)
total_acc_z_mean = rowMeans(total_acc_z)
total_acc_z_sd = apply(data.matrix(total_acc_z),1,sd)
df <- data.frame(body_acc_x_mean, body_acc_x_sd,
body_acc_y_mean, body_acc_y_sd,
body_acc_z_mean, body_acc_z_sd,
body_gyro_x_mean, body_gyro_x_sd,
body_gyro_y_mean, body_gyro_y_sd,
body_gyro_z_mean, body_gyro_z_sd,
total_acc_x_mean, total_acc_x_sd,
total_acc_y_mean, total_acc_y_sd,
total_acc_z_mean, total_acc_z_sd
)
rm(list=ls(pattern='acc'))
rm(list=ls(pattern='gyro'))
## activity names
subj = as.factor(subj$V1)
activity = as.factor(activity$V1)
levels(activity) <-(list(WALKING=1,WALKING_UPSTAIRS=2,WALKING_DOWNSTAIRs=3,
SITTING=4,STANDING=5,LAYING=6))
data <- cbind(df,X)
data$subj <- subj
data$activity <- activity
tidy <- aggregate(. ~ subj + activity, data = data, FUN= mean,na.rm=TRUE )
write.csv(tidy,file='../tidyData/smartphone.csv')
levels(activity)
